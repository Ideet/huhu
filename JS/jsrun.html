<!DOCTYPE html>
<html>
<body>
  <button type="button" onclick="callArkTS()">Click me!</button>
  <p id="demo"></p>
  <script>
    function callArkTS() {
      // 调试：检查JSInterface是否存在
      if (typeof window.JSInterface === 'undefined') {
        document.getElementById("demo").innerText = "JSInterface is not defined!";
        return;
      }
      
      // 调用HarmonyOS的JSBridge方法
      window.JSInterface.getAccountInfo()
        .then((accountInfo) => {
          // 处理返回的Promise
          if (accountInfo) {
            // 将账户信息显示在页面上
            document.getElementById("demo").innerText = JSON.stringify(accountInfo);
          } else {
            document.getElementById("demo").innerText = "No account information";
          }
        })
        .catch((error) => {
          // 处理错误
          document.getElementById("demo").innerText = `Error: ${error.message}`;
        });
    }
  </script>
</body>
</html>
